openapi: 3.0.3
info:
  title: Vet Life API
  version: 1.0.0
paths:
  /auth/login:
    post:
      summary: Login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
      responses:
        '200': {description: Token response}
  /auth/logout:
    post:
      security: [{sanctum: []}]
      summary: Logout
      responses:
        '204': {description: Logged out}
  /auth/me:
    get:
      security: [{sanctum: []}]
      summary: Current user
      responses:
        '200': {description: User info}
  /config:
    get:
      summary: Deployment configuration
      responses:
        '200':
          description: Deployment config with enabled features
          content:
            application/json:
              schema:
                type: object
                properties:
                  deployment:
                    type: object
                    description: Branding, locale, and currency values for the clinic deployment.
                  features:
                    type: object
                    additionalProperties:
                      type: boolean
                    description: Feature flag values keyed by feature name.
                  allowed_features:
                    type: array
                    items:
                      type: string
                    description: Feature names currently enabled.
                  plugins:
                    type: object
                    description: Plugin configuration keyed by plugin name.
  /users:
    get:
      security: [{sanctum: []}]
      summary: List users
      responses:
        '200': {description: List of users}
    post:
      security: [{sanctum: []}]
      summary: Create user
      responses:
        '201': {description: Created}
  /users/{id}:
    patch:
      security: [{sanctum: []}]
      summary: Update user
      responses:
        '200': {description: Updated}
    delete:
      security: [{sanctum: []}]
      summary: Delete user
      responses:
        '204': {description: Deleted}
  /veterinarians:
    get:
      security: [{sanctum: []}]
      summary: List veterinarians
      responses: {'200': {description: Paginated veterinarians}}
    post:
      security: [{sanctum: []}]
      summary: Create veterinarian
      responses: {'201': {description: Created}}
  /veterinarians/{id}:
    get:
      security: [{sanctum: []}]
      summary: Show veterinarian
      responses: {'200': {description: ok}}
    patch:
      security: [{sanctum: []}]
      summary: Update veterinarian
      responses: {'200': {description: ok}}
    delete:
      security: [{sanctum: []}]
      summary: Delete veterinarian
      responses: {'204': {description: no content}}
  /staff:
    get:
      security: [{sanctum: []}]
      summary: List staff
      responses: {'200': {description: Paginated staff members}}
    post:
      security: [{sanctum: []}]
      summary: Create staff member
      responses: {'201': {description: Created}}
  /staff/{id}:
    get:
      security: [{sanctum: []}]
      summary: Show staff member
      responses: {'200': {description: ok}}
    patch:
      security: [{sanctum: []}]
      summary: Update staff member
      responses: {'200': {description: ok}}
    delete:
      security: [{sanctum: []}]
      summary: Delete staff member
      responses: {'204': {description: no content}}
  /appointments:
    get:
      security: [{sanctum: []}]
      summary: List appointments
      responses: {'200': {description: ok}}
    post:
      security: [{sanctum: []}]
      summary: Create appointment
      responses: {'201': {description: created}}
  /appointments/{id}:
    get:
      security: [{sanctum: []}]
      summary: Show appointment
      responses: {'200': {description: ok}}
    patch:
      security: [{sanctum: []}]
      summary: Update appointment
      responses: {'200': {description: ok}}
    delete:
      security: [{sanctum: []}]
      summary: Delete appointment
      responses: {'204': {description: no content}}
  /medications:
    get:
      security: [{sanctum: []}]
      summary: List medications
      responses: {'200': {description: Paginated medications}}
    post:
      security: [{sanctum: []}]
      summary: Create medication
      responses: {'201': {description: Created}}
  /medications/{id}:
    get:
      security: [{sanctum: []}]
      summary: Show medication
      responses: {'200': {description: ok}}
    patch:
      security: [{sanctum: []}]
      summary: Update medication
      responses: {'200': {description: ok}}
    delete:
      security: [{sanctum: []}]
      summary: Delete medication
      responses: {'204': {description: no content}}
components:
  securitySchemes:
    sanctum:
      type: apiKey
      in: header
      name: Authorization
  schemas:
    User:
      type: object
      properties:
        id: {type: integer}
        name: {type: string}
        email: {type: string}
    StaffMember:
      type: object
      properties:
        id: {type: integer}
        name: {type: string}
        email: {type: string}
        phone: {type: string}
        role: {type: string, enum: [veterinarian, staff]}
        specialization: {type: string}
        position: {type: string}
    Appointment:
      type: object
      properties:
        id: {type: integer}
        patient_id: {type: integer}
        scheduled_at: {type: string, format: date-time}
        status: {type: string}
